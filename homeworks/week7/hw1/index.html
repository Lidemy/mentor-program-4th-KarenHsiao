<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <title>新拖延運動報名表單</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
  
</head>
<body>
	<div class="wrapper">
	  <div class="top"></div>
	  <section class="section">
		<div class="header">
	      <div class="header__title">
		    新拖延運動報名表單
		  </div>
		  <div class="header__info">
			<div>活動日期：2020/12/10 ~ 2020/12/11</div>
		    <div>活動地點：台北市大安區新生南路二段1號</div>
		  </div>
		  <div class="header__must">
			*必填
		  </div>
		</div>
	  </section>
	  <section class="section">
		<div class="question require">
       	  暱稱 
		</div>
		<div class="answer">
		  <input type="text" name="name" class="text" placeholder="您的暱稱">
		  <div class="error">請輸入暱稱</div>
		</div>

	  </section>
	  <section class="section">
		<div class="question require ">
		  電子郵件  
		</div>
		<div class="answer">
		  <input type="email" name="email" class="text" placeholder="您的電子郵件">
		  <div class="error">請輸入電子郵件</div>
		</div>
		
	  </section>
	  <section class="section">
		<div class="question require ">
	      手機號碼   
		</div>
		<div class="answer">
		  <input type="text" name="phoneNumber" class="text" placeholder="您的手機號碼">
		  <div class="error">請輸入手機號碼</div>
		</div>
		
	  </section>
	  <section class="section">
		<div class="question require ">
		  報名類型    
		</div>
		<div class="answer">
		  <div>
			<input type="radio" name="sign-up" id="bed" >
			<label for="bed">躺在床上用想像力實作</label>
		  </div>
		  <div>
            <input type="radio" name="sign-up" id="cellphone" >
		    <label for="cellphone">趴在地上滑手機找現成的</label>
	      </div>
		</div>
		<div class="error">請勾選報名類型</div>
	  </section>
	  <section class="section">
		<div class="question require ">
		  怎麼知道這個活動的？    
		</div>
		<div class="answer">
		  <input type="text" name="howToKnow" class="text" placeholder="您的回答">
		  <div class="error">請輸入您的回答</div>
		</div>
		
	  </section>
	
	  <section class="section">
	    <div class="question">
		  其他    
		</div>
		<div class="suggestion">
		  對活動的一些建議
		</div>
		<div class="answer">
		  <input type="text" name= 'other' placeholder="您的回答">
		</div>
		
	  </section>
	  <section class="section">
        <div class="submit">
		  <input type="submit" name="submit">
		  <div>
		    請勿透過表單送出您的密碼。
	      </div>
		</div>
	  </section>
	</div>
	<div class="bottom"></div>
	<div class="footer">
		<div>© 2020 © Copyright. All rights Reserved.</div>
	</div>
  <script >
	document.querySelector('input[name=submit]').addEventListener('click', function(e){
	  const textItem = document.querySelectorAll('.text')
	  //const textName = ['name', 'email','phoneNumber','howToKnow'] 未看影片自己做的，缺乏擴充性
	  const radioItem = document.querySelectorAll('input[name=sign-up]')
	  const radioId = ['bed', 'cellphone']  
	  let isEmpty = false

	  	for(let i=0; i<textItem.length; i++) {
	    if(textItem[i].value == '') {
	    	e.preventDefault()
		    textItem[i].parentNode.querySelector('.error').classList.add('active')
		    isEmpty = true
	    }
	    if(textItem[i].value){
	    	textItem[i].parentNode.querySelector('.error').classList.remove('active')
	    }
	  }
	  /*for(let i=0; i<textItem.length; i++) {
	    if(textItem[i].value == '') {
	    	e.preventDefault()
	    	let item = textName[i]
		    document.querySelector('input[name='+item+'] + div').classList.add('active')
		    isEmpty = true
	    }
	    if(textItem[i].value){
	    	let item = textName[i]
	    	document.querySelector('input[name='+item+'] + div').classList.remove('active')
	    }
	  }*/

	  let isRadioEmpty = false
	  for(let i=0; i<radioItem.length; i++) {
	     if(radioItem[i].checked) {
	     	var radioCheck = document.querySelector('input[id='+radioId[i]+']+label').innerText
	    	isRadioEmpty = true   
	    	break
	    }
	  }
	  if(!isRadioEmpty){
	    document.querySelector('.answer + div').classList.add('active')
	    isEmpty = true
	  }else{
	  	document.querySelector('.answer + div').classList.remove('active')
	  }
	
	  if(!isEmpty){
	  	
	 	let str = ''
	 	for(let i=0; i< textItem.length; i++){
	 	  str = str + textItem[i].value +'\n'
	 	}
	 	str += radioCheck +'\n'
	 	str += document.querySelector('input[name=other]').value
	 	alert(str)
	  }
    })
  </script>
</body>
</html>